/*!
 * AnchorJS - v1.0.0 - 2015-04-30
 * https://github.com/bryanbraun/anchorjs
 * Copyright (c) 2015 Bryan Braun; Licensed MIT
 */
function AnchorJS(A){"use strict";this.options=A||{},this._applyRemainingDefaultOptions=function(A){this.options.icon=this.options.hasOwnProperty("icon")?A.icon:"&#xe9cb",this.options.visible=this.options.hasOwnProperty("visible")?A.visible:"hover",this.options.placement=this.options.hasOwnProperty("placement")?A.placement:"right",this.options.class=this.options.hasOwnProperty("class")?A.class:""},this._applyRemainingDefaultOptions(A),this.add=function(A){var e,t,s,n,i,o,a,l,r,c,h,B,p,g;if(this._applyRemainingDefaultOptions(this.options),A){if("string"!=typeof A)throw new Error("The selector provided to AnchorJS was invalid.")}else A="h1, h2, h3, h4, h5, h6";if(e=document.querySelectorAll(A),0===e.length)return!1;for(this._addBaselineStyles(),t=document.querySelectorAll("[id]"),s=[].map.call(t,function(A){return A.id}),i=0;i<e.length;i++){if(e[i].hasAttribute("id"))n=e[i].getAttribute("id");else{o=e[i].textContent,a=o.replace(/[^\w\s-]/gi,"").replace(/\s+/g,"-").replace(/-{2,}/g,"-").substring(0,32).replace(/^-+|-+$/gm,"").toLowerCase(),c=a,r=0;do void 0!==l&&(c=a+"-"+r),l=s.indexOf(c),r+=1;while(-1!==l);l=void 0,s.push(c),e[i].setAttribute("id",c),n=c}h=n.replace(/-/g," "),B='<a class="anchorjs-link '+this.options.class+'" href="#'+n+'"><span class="anchorjs-description">Anchor link for: '+h+'</span><span class="anchorjs-icon" aria-hidden="true" data-anchorjs-icon="'+this.options.icon+'"></span></a>',p=document.createElement("div"),p.innerHTML=B,g=p.childNodes,"always"===this.options.visible&&(g[0].style.opacity="1"),"&#xe9cb"===this.options.icon&&(g[0].style.fontFamily="anchorjs-icons",g[0].style.fontStyle="normal",g[0].style.fontVariant="normal",g[0].style.fontWeight="normal",g[0].style.lineHeight="1",g[0].style.speak="none"),"left"===this.options.placement?(g[0].style.float="left",g[0].style.marginLeft="-1.25em",e[i].insertBefore(g[0],e[i].firstChild)):e[i].appendChild(g[0])}return this},this.remove=function(A){for(var e,t=document.querySelectorAll(A),s=0;s<t.length;s++)e=t[s].querySelector(".anchorjs-link"),e&&t[s].removeChild(e);return this},this._addBaselineStyles=function(){if(null===document.head.querySelector("style.anchorjs")){var A,e=document.createElement("style"),t=" .anchorjs-link {   opacity: 0;   text-decoration: none;   -webkit-font-smoothing: antialiased;   -moz-osx-font-smoothing: grayscale; }",s=" *:hover > .anchorjs-link, .anchorjs-link:focus  {   opacity: 1; }",n=" .anchorjs-description {   border: 0;   clip: rect(0 0 0 0);   height: 1px;   margin: -1px;   overflow: hidden;   padding: 0;   position: absolute;   width: 1px; }",i=' @font-face {   font-family: "anchorjs-icons";   font-style: normal;   font-weight: normal;   src: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBvUAAAC8AAAAYGNtYXAWitPtAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5Zutcv3cAAAFwAAABOGhlYWQFlHU0AAACqAAAADZoaGVhB3QExgAAAuAAAAAkaG10eAcAAUYAAAMEAAAAFGxvY2EAKACwAAADGAAAAAxtYXhwAAgAVwAAAyQAAAAgbmFtZVcZpu4AAANEAAABRXBvc3QAAwAAAAAEjAAAACAAAwQAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpywPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOnL//3//wAAAAAAIOnL//3//wAB/+MWOQADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgFGACsDsgL/ACsAVAAAASImJyY0PwE+ATMyFhcWFA8BBiInJjQ/ATY0Jy4BIyIGDwEGFBcWFAcOASMDIiYnJjQ/ATYyFxYUDwEGFBceATMyNj8BNjQnJjQ3NjIXFhQPAQ4BIwJIBw4FNDSLGUAkI0AZNDQ/Cx8LCws/Hh4OJRQVJQ6LHh4LCwYOB4UkQBk0ND8LIAsLC0AeHg4lFRQlDoseHgsLCyALMzOLGUEjATsGBTSTM4sZGxsZM5M0PwsLCx8LQB1UHg4QEA6LHlQdCyALBQb+8BsZM5M0PwsLCx8LQB1UHg4QEA6LHlQdCyALCws0kzOLGRsAAAAAAQAAAAEAAEWYnzxfDzz1AAsEAAAAAADRYhicAAAAANFiGJwAAAAAA7IC/wAAAAgAAgAAAAAAAAABAAADwP/AAAAFAAAAAAADsgABAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAIAAAAFAAFGAAAAAAAKABQAHgCcAAEAAAAFAFUAAgAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAOAK4AAQAAAAAAAQAOAAAAAQAAAAAAAgAOAEcAAQAAAAAAAwAOACQAAQAAAAAABAAOAFUAAQAAAAAABQAWAA4AAQAAAAAABgAHADIAAQAAAAAACgA0AGMAAwABBAkAAQAOAAAAAwABBAkAAgAOAEcAAwABBAkAAwAOACQAAwABBAkABAAOAFUAAwABBAkABQAWAA4AAwABBAkABgAOADkAAwABBAkACgA0AGMAaQBjAG8AbQBvAG8AbgBWAGUAcgBzAGkAbwBuACAAMQAuADAAaQBjAG8AbQBvAG8Abmljb21vb24AaQBjAG8AbQBvAG8AbgBSAGUAZwB1AGwAYQByAGkAYwBvAG0AbwBvAG4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=) format("truetype"); }',o=" [data-anchorjs-icon]:before {   content: attr(data-anchorjs-icon); }";e.className="anchorjs",e.appendChild(document.createTextNode("")),A=document.head.getElementsByTagName("style")[0],void 0===A?document.head.appendChild(e):document.head.insertBefore(e,A),e.sheet.insertRule(t,e.sheet.cssRules.length),e.sheet.insertRule(s,e.sheet.cssRules.length),e.sheet.insertRule(n,e.sheet.cssRules.length),e.sheet.insertRule(o,e.sheet.cssRules.length),e.sheet.insertRule(i,e.sheet.cssRules.length)}}}var anchors=new AnchorJS;
